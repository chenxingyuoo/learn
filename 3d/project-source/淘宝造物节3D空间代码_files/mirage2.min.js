var mirage=function(t){"use strict";function e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function r(t){return Object.prototype.toString.call(t)}function n(t){return[].slice.call(t)}function i(){return(new Date).getTime()}function o(t){return null!=t&&"object"==typeof t&&t.nodeType===Node.ELEMENT_NODE&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}function s(t,e){for(var r=0;r<t.length;r++)if(e===t[r])return r;return-1}function a(){var t,e;return{promise:new z(function(r,n){t=r,e=n}),resolve:t,reject:e}}function u(){try{return!!window.addEventListener}catch(t){return!1}}function c(t,e){if(t)return K<8&&"style"===e?t.style.cssText:"getAttribute"in t?t.getAttribute(e):t.attributes[e]}function h(t,e,r){if(t){if(!(K<8&&"style"===e))return"setAttribute"in t?t.setAttribute(e,r):t.attributes[e]=r;t.style.cssText=r}}function l(t,e){if(t){if(!(K<8&&"style"===e))return"removeAttribute"in t?t.removeAttribute(e):delete t.attributes[e];t.style.cssText=""}}function f(t,e){return c(t,"data-"+e)}function p(t,e,r){return h(t,"data-"+e,r)}function d(t,e,r,n){return u()?t.addEventListener(e,r,n):t.attachEvent("on"+e,r)}function _(t,e,r,n){return u()?t.removeEventListener(e,r,n):t.detachEvent("on"+e,r)}function g(){var t={};try{void 0!==window.innerWidth?(t.width=window.innerWidth,t.height=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight):(t.width=document.getElementsByTagName("body")[0].clientWidth,t.height=document.getElementsByTagName("body")[0].clientHeight)}catch(e){t.width=void 0,t.height=void 0}return t}function m(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(e.call(r,t[i],i,t));return n}function y(t,e,r){for(var n=0;n<t.length;n++)e.call(r,t[n],n,t)}function v(t,e,r){for(var n=0;n<t.length;n++)if(e.call(r,t[n],n,t))return t[n]}function w(t,e,r){for(var n=[],i=0;i<t.length;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}function b(t){if(!(this instanceof b))return new b(t);if(!t||!o(t))throw new Error("A DOM element reference is required");return this.element=t,this.tokens=t.classList,this}function E(t,e){return new b(t).remove(e)}function S(t,e){return new b(t).has(e)}function T(t,e,r){var n,i,o,s,a=t.byteLength;if(e=~~e,r=void 0===r?a:~~r,"function"==typeof t.slice)return t.slice(e,r);if(e<0?(e+=a)<0&&(e=0):e>a&&(e=a),r<0?(r+=a)<0&&(r=0):r>a&&(r=a),r<e&&(r=e),0===(n=r-e))return new Uint8Array(n);for(i=new DataView(t,e,n),o=new Uint8Array(n),s=0;s<n;s++)o[s]=i.getUint8(s);return o.buffer}function O(t,e,r){var n,i=t[e];n=Object.getOwnPropertyDescriptor(t,e)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),e)||{value:i,writable:!0,configurable:!0,enumerable:!0};try{A(n.configurable,"Property must be configurable."),A(!!r,"Property descriptor must be defined.")}catch(t){throw new Error('Invalid attempt to redefine "'+e+'".',t.message)}void 0===r.get&&void 0===r.set&&(r.writable=!0),r.enumerable=!1!==r.enumerable,r.configurable=!1!==r.configurable;try{Object.defineProperty(t,e,r)}catch(t){lt('Failed to define property "'+e+'".',t.message)}return function(){try{Object.defineProperty(t,e,n)}catch(t){lt('Failed to restore user-defined property "'+e+'".',t.message)}}}function A(t,e){if(!t)throw new Error(e)}function I(t,e){return function(){return t.apply(e,arguments)}}function L(t,e){var r,n;e=e||{type:"text/javascript"};try{n=new Blob([t],e)}catch(i){(r=new(this.BlobBuilder||this.WebKitBlobBuilder||this.MozBlobBuilder)).append(t),n=r.getBlob(e&&e.type)}return n}function C(){this.queue_=z.resolve(),this.reset_(),this.sizeQueue_=[],this.map_={}}function R(){var t=!1,e="___MIRAGE_STORAGE_TEST___";try{localStorage.setItem(e,e),localStorage.getItem(e),localStorage.removeItem(e),t=!0}catch(t){}this.canAccessStorage_=t,this.connectionResolves_=z.resolve(navigator.connection||navigator.mozConnection||navigator.webkitConnection||this.getFakeConnection_())}function N(t,e){try{new Uint8Array(t,e)[0]===N.type.SIGNATURE[0]?this.initializeAsSignature_(t,e):this.initializeAsChunk_(t,e)}catch(t){throw new Error("Failed to initialize a PNG chunk. "+t.toString())}}function x(t,e){var r=new N(t,e),n=0;A(r.isSignature(),"First chunk should be PNG signature."),n+=r.byteLength;do{n+=(r=new N(t,e+n)).byteLength}while(!r.isEnd());this.offset=e,this.byteLength=n,this.view=new Uint8Array(t,e,n),this.imageSrc_=null}function D(t,e){for(var r,n=new Uint8Array(t,e,4),i=0,o=0;o<4;o++)i<<=8,i|=n[o];try{r=String.fromCharCode.apply(null,new Uint8Array(t,e+4,i)),r=JSON.parse(r)}catch(t){throw new Error("Unable to parse degraded image JSON. "+t.toString())}this.byteLength=i+4,this.data=r,this.loadStatus=this.data.status==D.state.LOAD_OK?this.data.status:this.data.status+":"+this.data.cache_status,this.data.width=this.data.width||this.data.X||0,this.data.height=this.data.height||this.data.Y||0}function P(t,e){this.json=new D(t,e),this.png=new x(t,e+this.json.byteLength),this.src=this.json.data.url,this.width=this.json.data.width||this.json.data.Y,this.height=this.json.data.height||this.json.data.X,this.byteLength=this.json.byteLength+this.png.byteLength}function M(t,e){var r=t.indexOf("}\n",e)+1,n=t.indexOf("\n\n",r);A(-1!==r,"A JSON boundary should exist."),A(-1!==n,"A DataURL boundary should exist.");var i=JSON.parse(t.slice(e,r)),o=t.slice(r+1,n);this.json={data:i,loadStatus:i.status==D.state.LOAD_OK?i.status:i.status+":"+i.cache_status},this.src=this.json.data.url,this.width=this.json.data.width||this.json.data.X,this.height=this.json.data.height||this.json.data.Y,this.stringLength=n+2-e,this.dataUrl_=o}function j(t,e){this.image_=t,this.restored_=!1,this.restoring_=!1,this.stateCallback_=null,this.restoredResult_=a(),this.wrappedPropertyCache_=[],this.boundExpireState_=I(this.expireState_,this),this.parentTree_=j.resolveParentTree(this.image_),this.parentTreeChangesPromise_=null,this.parentTreeCheckInterval_=null,this.forcePreloadOnly_=e&&e.forcePreloadOnly_,this.requireProxy_=e&&e.proxy_,this.storeStyleMutation(),this.makeMeasurable_(),this.wrap_()}function B(t){this.supportsBinaryData_=!!t&&!!t.supportsBinaryData,this.map_={},this.timer_=null,this.supportsBinaryData_=!1,this.supportsBinaryData_&&("undefined"==typeof ArrayBuffer&&(this.supportsBinaryData_=!1),"undefined"==typeof URL&&"undefined"==typeof webkitURL&&"undefined"==typeof mozURL&&(this.supportsBinaryData_=!1),"undefined"==typeof Blob&&"undefined"==typeof BlobBuilder&&"undefined"==typeof WebKitBlobBuilder&&"undefined"==typeof MozBlobBuilder&&(this.supportsBinaryData_=!1)),this.loadStrategy_=this.supportsBinaryData_?this.loadArrayBuffer_:this.loadDataUrls_}function U(){this.manifest_=new C,this.connection_=new R,this.imageCache_=[],this.forcePreload_=/forcepreload/.test(window.location.search),this.forcePreloadOnly_=/forcepreloadonly/.test(window.location.search),this.forceEagerLoad_=/forceeagerload/.test(window.location.search),this.forceDataUrls_=/forcedataurls/.test(window.location.search),this.optimizationTimeout_=null,this.requireProxy_=!1,this.loadStatistics={},this.nativeMethods={},this.forcePreload_&&this.manifest_.clear(),this.forceEagerLoad_&&(ft.eagerLoad=!0),this.supportsBinaryData_=!0,void 0===window.ArrayBuffer&&(this.supportsBinaryData_=!1),void 0===window.Blob&&void 0===window.BlobBuilder&&void 0===window.WebKitBlobBuilder&&void 0===window.MozBlobBuilder&&(this.supportsBinaryData_=!1);var t=document.createElement("canvas");if(void 0===t.getContext)this.supportsBinaryData_=!1;else try{t.getContext("2d")}catch(t){this.supportsBinaryData_=!1}this.forceDataUrls_&&(this.supportsBinaryData_=!1),this.loader_=new B({supportsBinaryData:this.supportsBinaryData_})}var k="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},z=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t,r){!function(e,r){t.exports=r()}(0,function(){function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function r(t){return"function"==typeof t}function n(){return void 0!==j?function(){j(o)}:i()}function i(){var t=setTimeout;return function(){return t(o,1)}}function o(){for(var t=0;t<M;t+=2)(0,q[t])(q[t+1]),q[t]=void 0,q[t+1]=void 0;M=0}function s(t,e){var r=arguments,n=this,i=new this.constructor(u);void 0===i[W]&&I(i);var o=n._state;return o?function(){var t=r[o-1];U(function(){return T(o,i,t,n._result)})}():w(n,i,t,e),i}function a(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var r=new e(u);return g(r,t),r}function u(){}function c(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function l(t){try{return t.then}catch(t){return J.error=t,J}}function f(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}function p(t,e,r){U(function(t){var n=!1,i=f(r,e,function(r){n||(n=!0,e!==r?g(t,r):y(t,r))},function(e){n||(n=!0,v(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&i&&(n=!0,v(t,i))},t)}function d(t,e){e._state===Q?y(t,e._result):e._state===X?v(t,e._result):w(e,void 0,function(e){return g(t,e)},function(e){return v(t,e)})}function _(t,e,n){e.constructor===t.constructor&&n===s&&e.constructor.resolve===a?d(t,e):n===J?(v(t,J.error),J.error=null):void 0===n?y(t,e):r(n)?p(t,e,n):y(t,e)}function g(e,r){e===r?v(e,c()):t(r)?_(e,r,l(r)):y(e,r)}function m(t){t._onerror&&t._onerror(t._result),b(t)}function y(t,e){t._state===K&&(t._result=e,t._state=Q,0!==t._subscribers.length&&U(b,t))}function v(t,e){t._state===K&&(t._state=X,t._result=e,U(m,t))}function w(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+Q]=r,i[o+X]=n,0===o&&t._state&&U(b,t)}function b(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)n=e[s],i=e[s+r],n?T(r,n,i,o):i(o);t._subscribers.length=0}}function E(){this.error=null}function S(t,e){try{return t(e)}catch(t){return Z.error=t,Z}}function T(t,e,n,i){var o=r(n),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if((s=S(n,i))===Z?(c=!0,a=s.error,s.error=null):u=!0,e===s)return void v(e,h())}else s=i,u=!0;e._state!==K||(o&&u?g(e,s):c?v(e,a):t===Q?y(e,s):t===X&&v(e,s))}function O(t,e){try{e(function(e){g(t,e)},function(e){v(t,e)})}catch(e){v(t,e)}}function A(){return $++}function I(t){t[W]=$++,t._state=void 0,t._result=void 0,t._subscribers=[]}function L(t,e){this._instanceConstructor=t,this.promise=new t(u),this.promise[W]||I(this.promise),P(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?y(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&y(this.promise,this._result))):v(this.promise,C())}function C(){return new Error("Array Methods must be provided an Array")}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function x(t){this[W]=A(),this._result=this._state=void 0,this._subscribers=[],u!==t&&("function"!=typeof t&&R(),this instanceof x?O(this,t):N())}var D=void 0,P=D=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},M=0,j=void 0,B=void 0,U=function(t,e){q[M]=t,q[M+1]=e,2===(M+=2)&&(B?B(o):Y())},z="undefined"!=typeof window?window:void 0,H=z||{},F=H.MutationObserver||H.WebKitMutationObserver,G="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),V="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,q=new Array(1e3),Y=void 0;Y=G?function(){return process.nextTick(o)}:F?function(){var t=0,e=new F(o),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():V?function(){var t=new MessageChannel;return t.port1.onmessage=o,function(){return t.port2.postMessage(0)}}():void 0===z&&"function"==typeof e?function(){try{var t=e("vertx");return j=t.runOnLoop||t.runOnContext,n()}catch(t){return i()}}():i();var W=Math.random().toString(36).substring(16),K=void 0,Q=1,X=2,J=new E,Z=new E,$=0;return L.prototype._enumerate=function(t){for(var e=0;this._state===K&&e<t.length;e++)this._eachEntry(t[e],e)},L.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===a){var i=l(t);if(i===s&&t._state!==K)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===x){var o=new r(u);_(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},L.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===K&&(this._remaining--,t===X?v(n,r):this._result[e]=r),0===this._remaining&&y(n,this._result)},L.prototype._willSettleAt=function(t,e){var r=this;w(t,void 0,function(t){return r._settledAt(Q,e,t)},function(t){return r._settledAt(X,e,t)})},x.all=function(t){return new L(this,t).promise},x.race=function(t){var e=this;return new e(P(t)?function(r,n){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(r,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},x.resolve=a,x.reject=function(t){var e=new this(u);return v(e,t),e},x._setScheduler=function(t){B=t},x._setAsap=function(t){U=t},x._asap=U,x.prototype={constructor:x,then:s,catch:function(t){return this.then(null,t)}},x.polyfill=function(){var t=void 0;if(void 0!==k)t=k;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=x},x.Promise=x,x})}),H=(Object.freeze||Object)({getClass:r,isString:function(t){return/String/.test(r(t))},isArray:function(t){return!!t&&(t instanceof Array||"object"==typeof t&&t.hasOwnProperty("length")&&!t.propertyIsEnumerable("length"))},nodeListToArray:n,now:i,isElement:o,indexOf:s,defer:a}),F=window.navigator.userAgent,G=Number((F.match(/Firefox\/([0-9]+\.[0-9]+)/)||[0,0])[1])||void 0,V=Number((F.match(/Chrome\/([0-9]+\.[0-9]+)/)||[0,0])[1])||void 0,q=Number((F.match(/Version\/([0-9]+\.[0-9]+)(?:\.[0-9]+)?\sSafari\//)||[0,0])[1])||void 0,Y=Number((F.match(/Opera\/.*\sVersion\/([0-9]+\.[0-9]+)|Opera\/([0-9]+\.[0-9]+)/)||[]).slice(1).join(""))||void 0,W=Number(F.match(/(iPad|iPhone|iPod)(?:\sSimulator)?;[\s\w;]*?CPU/)&&(F.match(/U; CPU i?OS ([0-9]+_[0-9]+)/)||["","1_0"])[1].replace("_","."))||void 0,K=Number((navigator.userAgent.match(/MSIE ([\w.]+)/)||[])[1])||void 0,Q=function(){var t=a();return"readyState"in document&&"complete"===document.readyState&&t.resolve({}),d(document,"readystatechange",function(e){"readyState"in document&&"complete"===document.readyState&&t.resolve(e)},!0),d(document,"DOMContentLoaded",function(e){t.resolve(e)},!0),t.promise}(),X=function(){var t=a();return"complete"===document.readyState&&Q.then(t.resolve),d(window,"load",function(e){t.resolve(e)},!0),t.promise}(),J=(Object.freeze||Object)({userAgent:F,firefox:G,chrome:V,safari:q,opera:Y,ios:W,internetExplorer:K,hasCreateElementCallApply:function(){try{return!!document.createElement.call}catch(t){return!1}},hasStandardEvents:u,getAttribute:c,setAttribute:h,removeAttribute:l,getData:f,setData:p,addEventListener:d,removeEventListener:_,preventDefault:function(t){"preventDefault"in t?t.preventDefault():t.returnValue=!1},getViewport:g,onReady:Q,onLoad:X}),Z=window.__mirage2||{},$=Z,tt=Z.petok,et=(Object.freeze||Object)({map:m,forEach:y,find:v,filter:w}),rt=document.createElement("a"),nt=function(t){return rt.href=t,{hash:rt.hash,host:rt.host,hostname:rt.hostname,href:rt.href,pathname:rt.pathname,port:rt.port,protocol:rt.protocol,search:rt.search}},it=function(t,e){e=null==e?window.location.href:e;var r=nt(ot(t)),n=nt(ot(e));return r.protocol===n.protocol&&r.host===n.host},ot=function(){var t=document.createElement("div"),e=window.URL||window.webkitURL,r=!0;try{r=null!=new e(window.location&&window.location.href).href}catch(t){r=!1}return r?function(t){return new e(t,document.baseURI||window.location&&window.location.href).href}:function(e){return e=e.split("&").join("&#38;").split("<").join("&#60;").split("'").join("&#39;"),t.innerHTML='<a href="'+e+'">x</a>',t.firstChild.href}}(),st=(Object.freeze||Object)({parseURL:nt,sameOrigin:it,resolveFullURL:ot});b.prototype.add=function(t){var e;return this.tokens?(this.tokens.add(t),this):(e=this.array(),s(e,t)<0&&e.push(t),this.element.className=e.join(" "),this)},b.prototype.remove=function(t){var e,r;return this.tokens?(this.tokens.remove(t),this):(e=this.array(),(r=s(e,t))>=0?(e.splice(r,1),this.element.className=e.join(" "),this):void 0)},b.prototype.toggle=function(t){return this.tokens?(this.tokens.toggle(t),this):(this.has(t)?this.remove(t):this.add(t),this)},b.prototype.array=function(){var t,e;return t=this.element.className.replace(/^\s+|\s+$/g,""),""===(e=t.split(/\s+/))[0]&&e.shift(),e};var at=S;b.prototype.has=b.prototype.contains=function(t){return this.tokens?this.tokens.contains(t):!!~s(this.array(),t)};var ut=(Object.freeze||Object)({add:function(t,e){return new b(t).add(e)},remove:E,toggle:function(t,e){new b(t).toggle(e)},has:S,contains:at,Classes:b}),ct={};ct.log=function(t,e){var r={};r.message=t,r.category=e,ct.history.push(r)};var ht=function(t,e,r){},lt=function(t,e,r){},ft=$;ft.maxjsonsize=ft.maxjsonsize||1e5,ft.maxdegradedimages=ft.maxdegradedimages||50,ft.maxexternalimages=ft.maxexternalimages||50,ft.eagerLoad=ft.eagerLoad||!1,ft.petoken=tt;var pt=window.URL||window.webkitURL||window.mozURL,dt=function(){var t;return window.location.origin?window.location.origin:(t=nt(window.location.toString())).protocol+"://"+t.host+":"+t.port}();return C.DEFAULT_TTL=1728e5,C.STORAGE_KEY="mirage_cache_manifest",C.DEBOUNCE_THRESHOLD=500,C.MAX_LENGTH=100,C.prototype.record=function(t){return this.whenReady_(function(){this.add_(t),this.persist_()})},C.prototype.has=function(t){return this.whenReady_(function(){return this.has_(t)})},C.prototype.indexOf=function(t){return this.whenReady_(function(){return this.indexOf_(this.map_[t])})},C.prototype.clear=function(){return this.whenReady_(function(){try{window.localStorage.removeItem(C.STORAGE_KEY)}catch(t){}this.reset_()})},C.prototype.whenReady_=function(t){return this.queue_=this.queue_.then(I(t,this)),this.queue_},C.prototype.has_=function(t){var e=this.map_[t],r=i();return e&&e+C.DEFAULT_TTL<r?(this.remove_(t),this.persist_(),!1):!!e},C.prototype.reset_=function(){try{this.map_=JSON.parse(window.localStorage.getItem(C.STORAGE_KEY)),this.sizeMap_={},this.sizeQueue_=m(this.map_,function(t,e){var r={key:e,value:t};return this.sizeMap_[e]=r,r},this).sort(function(t,e){return t.value>e.value?-1:t.value<e.value?1:0})}catch(t){}this.map_=this.map_||{},this.offset_=0},C.prototype.indexOf_=function(t,e,r){var n,i;return 0===this.sizeQueue_.length||void 0===t?-1:(e=e||0,r=r||this.sizeQueue_.length,0==(n=r-e)?-1:(i=n/2+e,i|=i,this.sizeQueue_[i].value<t?this.indexOf_(t,e,i):this.sizeQueue_[i].value>t?this.indexOf_(t,i,r):i))},C.prototype.add_=function(t){var e,r=this.sizeMap_[t];r?(e=this.indexOf_(r.value),this.sizeQueue_.splice(e,1)):(r={key:t},this.sizeMap_[t]=r),this.map_[t]=r.value=i()+this.offset_++,this.sizeQueue_.unshift(r),this.sizeQueue_.length>C.MAX_LENGTH&&this.remove_(this.sizeQueue_[this.sizeQueue_.length-1].key)},C.prototype.remove_=function(t){var e=this.sizeMap_[t],r=this.indexOf_(e.value);delete this.map_[t],delete this.sizeMap_[t],-1!==r&&this.sizeQueue_.splice(r,1)},C.prototype.persist_=function(){return this.whenReady_(function(){try{window.localStorage.setItem(C.STORAGE_KEY,JSON.stringify(this.map_))}catch(t){}})},C.prototype.persist_=function(t,e){var r=null;return function(){var n=arguments,i=this;null!==r&&window.clearTimeout(r),r=window.setTimeout(function(){t.apply(i,n)},e)}}(C.prototype.persist_,C.DEBOUNCE_THRESHOLD),R.STORAGE_KEY="mirage_network_connection",R.MEGABYTE_RATIO=1048.576,R.SERVER_TIME_HEADER="X-Mirage-Server-Time",R.TRANSFER_SIZE_HEADER="X-Mirage-Transfer-Size",R.SPEEDTEST_LOCATION_FRAGMENT="/cdn-cgi/mirage_speedtest/",R.DEFAULT_CONNECTION={bandwidth:1/0,metered:null},R.HIGH_LATENCY_THRESHOLD=1.25,R.prototype.assessLatency=function(){return this.connectionResolves_.then(function(t){var e=window.navigator.userAgent||"",r=t.bandwidth<R.HIGH_LATENCY_THRESHOLD,n=/Android|iPhone|iPod|iPad/.test(e);return r&&n})},R.prototype.getFakeConnection_=function(){return new z(I(function(t){var e;this.canAccessStorage_||t(R.DEFAULT_CONNECTION);try{e=JSON.parse(window.localStorage.getItem(R.STORAGE_KEY))}catch(t){}e&&t(e),t(this.approximateConnection_().then(function(t){try{window.localStorage.setItem(R.STORAGE_KEY,JSON.stringify(t))}catch(t){}return t},function(){return R.DEFAULT_CONNECTION}))},this))},R.prototype.approximateConnection_=function(){return new z(function(t,e){var r=new XMLHttpRequest,n=i();ht(),r.open("get",dt+R.SPEEDTEST_LOCATION_FRAGMENT+n),r.onreadystatechange=function(){var o;if(2===r.readyState){try{r.status&&(o=+r.status)}catch(t){}if(1223===o&&(o=204),!o||200!==o)return e(new Error("Unexpected HTTP status: "+o));var s=i(),a=(window.parseInt(r.getResponseHeader(R.SERVER_TIME_HEADER),10),window.parseInt(r.getResponseHeader(R.TRANSFER_SIZE_HEADER),10)),u=s-n,c=parseFloat((a/u/R.MEGABYTE_RATIO).toFixed(2));return isNaN(u)||isNaN(c)?t(R.DEFAULT_CONNECTION):(ht(),ht(),ht(),ht(),ht(),t({bandwidth:c,metered:null}))}},r.send()})},N.type={SIGNATURE:[137,80,78,71,13,10,26,10],IHDR:[73,72,68,82],IEND:[73,69,78,68]},N.FIELD_BYTE_LENGTH=12,N.prototype.initializeAsSignature_=function(t,e){this.byteLength=8,this.type_=new Uint8Array(t,e,this.byteLength)},N.prototype.initializeAsChunk_=function(t,e){for(var r=new Uint8Array(t,e,4),n=0,i=0;i<4;i++)n<<=8,n|=r[i];this.byteLength=n+N.FIELD_BYTE_LENGTH,this.type_=new Uint8Array(t,e+4,4)},N.prototype.isSignature=function(){return 8===this.byteLength},N.prototype.isHeader=function(){return this.matches(N.type.IHDR)},N.prototype.isEnd=function(){return this.matches(N.type.IEND)},N.prototype.matches=function(t){for(var e=0;e<t.length;++e)if(this.type_[e]!==t[e])return!1;return!0},x.createObjectUrl=function(){var t=z.resolve();return function(e){return t=t.then(function(){var t=e.toBlob_();e.releaseImageSrc();try{var r="createObjectURL";for(r in pt)if("createObjectURL"===r)break;return pt[r](t)}catch(t){return lt("Failed to create objectURL for a blob.",t.message),""}})}}(),x.prototype.toBlob_=function(){return L(T(this.view.buffer,this.view.byteOffset,this.view.byteOffset+this.view.byteLength),{type:"image/png"})},x.prototype.resolveImageSrc=function(){return x.createObjectUrl(this).then(I(function(t){return this.imageSrc_=t,t},this))},x.prototype.releaseImageSrc=function(){if(this.imageSrc_)try{pt.revokeObjectURL(this.imageSrc_),this.imageSrc_=null}catch(t){lt("Failed to release image src.",t.message)}},D.state={LOAD_OK:"ok",CACHE_MISS:"914:MISS",CACHE_HIT:"914:HIT"},P.prototype.resolveSrc=function(){return this.png.resolveImageSrc()},P.prototype.isValid=function(){return this.json.loadStatus==D.state.LOAD_OK},M.prototype.resolveSrc=function(){return z.resolve(this.dataUrl_)},M.prototype.isValid=function(){return this.json.loadStatus==D.state.LOAD_OK},j.VIEWPORT_BUFFER=300,j.PARENT_TREE_POLL_INTERVAL=500,j.RETRY_TIME=100,j.INVISIBLE_CLASS="cf-invisible",j.HIDDEN_CLASS="cf-hidden",j.resolveParentTree=function(t){for(var e=[],r=t;r;){e.push(r);try{r=r.parentNode}catch(t){break}}return e},j.matchesParentTree=function(t,e){var r=j.resolveParentTree(t);if(r.length!==e.length)return!1;for(var n=0;n<r.length;++n)if(r[n]!==e[n])return!1;return!0},j.prototype.storeStyleMutation=function(){var t=f(this.image_,"cfstyle");"hidden"===this.image_.style.visibility&&(this.image_.style.visibility="",e=c(this.image_,"style")),"none"===this.image_.style.display&&(this.image_.style.display="",e=c(this.image_,"style"));var e=c(this.image_,"style");e&&(t?p(this.image_,"cfstyle",j.mergeInlineStyles(this.image_)):p(this.image_,"cfstyle",e))},j.mergeInlineStyles=function(t){var e=c(t,"style"),r={};y(f(t,"cfstyle").split(";").concat(e.split(";")),function(t){i=t.split(":"),r[i[0].trim()]=t});var n=[];for(var i in r)i&&n.push(r[i]);return n.join(";")},j.isValidCandidate=function(t){var e=f(t,"cfsrc"),r=c(t,"src");f(t,"cfstyle"),c(t,"style");return e&&"data:"===e.slice(0,5).toLowerCase()?(h(t,"src",e),j.restoreStyle(t),!1):((r&&e!==r||!e)&&j.restoreStyle(t),"IMG"===t.nodeName&&!!e&&(null===r||""===r||r===e))},j.restoreStyle=function(t){var e,r=f(t,"cfstyle");t.style&&(t.style.visibility="",t.style.display=""),e=c(t,"style"),r?e?h(t,"style",j.mergeInlineStyles(t)):h(t,"style",r):l(t,"style")},j.prototype.getSrc=function(){return ot(f(this.image_,"cfsrc")||"")},j.prototype.getStyle=function(){return f(this.image_,"cfstyle")||""},j.prototype.getTop=function(){for(var t=0,e=this.image_;e;)try{void 0!==e.offsetTop&&e.offsetTop&&(t+=e.offsetTop),e=e.offsetParent}catch(t){break}return t},j.prototype.getLeft=function(){return this.image_.getBoundingClientRect().left},j.prototype.setDegradedSrc=function(t){return new z(I(function(e){this.restored_?e():(this.restoring_=!0,this.unwrap_(),this.restoring_=!1,this.whenStateExpires_(e),h(this.image_,"src",t),this.image_.src=t,""===this.getStyle()?l(this.image_,"style"):h(this.image_,"style",this.getStyle()),E(this.image_,j.HIDDEN_CLASS),this.wrap_())},this))},j.prototype.restoreWithinViewport=function(){return this.forcePreloadOnly_?this.restoredResult_.promise:ft.eagerLoad?this.restore():this.entersViewport_().then(I(function(){return this.restore()},this))},j.prototype.restore=function(){return this.forcePreloadOnly_?this.restoredResult_.promise:(this.restoring_=!0,this.unwrap_(),this.restoring_=!1,this.restored_=!0,h(this.image_,"src",this.getSrc()),this.image_.src=this.getSrc(),""===this.getStyle()?l(this.image_,"style"):h(this.image_,"style",this.getStyle()),E(this.image_,j.HIDDEN_CLASS),this.whenStateExpires_(I(function(){this.restoredResult_.resolve()},this)),this.restoredResult_.promise)},j.prototype.whenRestored=function(t){return this.restoredResult_.promise.then(t)},j.prototype.isWithinViewport=function(){var t,e=g(),r=this.image_.getBoundingClientRect();return t=r.bottom<0?r.bottom:r.top>e.height?r.top-e.height:0,Math.abs(t)<U.DISTANCE_FROM_VIEWPORT},j.prototype.whenStateExpires_=function(t){this.expireState_(),this.stateCallback_=t,d(this.image_,"load",this.boundExpireState_),d(this.image_,"error",this.boundExpireState_)},j.prototype.expireState_=function(){var t;_(this.image_,"load",this.boundExpireState_),_(this.image_,"error",this.boundExpireState_),this.stateCallback_&&(t=this.stateCallback_,this.stateCallback_=null,t())},j.prototype.entersViewport_=function(){return new z(I(function(t){if(this.isWithinViewport())return t();var e=I(function(){this.isWithinViewport()&&(null!==this.parentTreeCheckInterval_&&(window.clearInterval(this.parentTreeCheckInterval_),this.parentTreeCheckInterval_=null),this.mutationObserver.disconnect(),this.retryTimer_&&delete this.retryTimer_,_(window,"resize",e),_(window,"scroll",e),t())},this);this.retryTimer_=setTimeout(I(function(){e()},this),j.RETRY_TIME),this.parentTreeChanges_().then(e),this.elementAttributeChange_().then(e),d(window,"resize",e),d(window,"scroll",e)},this))},j.prototype.elementAttributeChange_=function(){return new z(I(function(t){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||function(){this.observe=function(){},this.disconnect=function(){}};this.mutationObserver=new e(function(e){t()}),this.image_.origImage_&&this.mutationObserver.observe(this.image_.origImage_,{attributes:!0,attributeOldValue:!0})},this))},j.prototype.parentTreeChanges_=function(){if(this.parentTreeChangesPromise_)return this.parentTreeChangesPromise_;var t=a();return this.parentTreeCheckInterval_=window.setInterval(I(function(){j.matchesParentTree(this.image_,this.parentTree_)||(this.parentTree_=j.resolveParentTree(this.image_),window.clearInterval(this.parentTreeCheckInterval_),this.parentTreeCheckInterval_=null,this.parentTreeChangesPromise_=null,t.resolve())},this),j.PARENT_TREE_POLL_INTERVAL),this.parentTreeChangesPromise_=t.promise,t.promise},j.prototype.makeMeasurable_=function(){this.restored_||(S(this.image_,j.INVISIBLE_CLASS)?E(this.image_,j.INVISIBLE_CLASS):h(this.image_,"style","visibility:hidden"))},j.prototype.wrap_=function(){this.requireProxy_?(this.proxy_||(this.proxy_=this.makeProxy()),this.image_=this.proxy_):this.wrapImage_()},j.prototype.wrapImage_=function(){try{var t=this,e=this.image_.getAttribute,r=this.image_.setAttribute,n=O(this.image_,"src",{get:function(){return t.getSrc()},set:function(e){t.restoring_||p(t.image_,"cfsrc",e)}}),i=O(this.image_,"getAttribute",{value:function(r){return"src"===r?t.getSrc():"style"===r?t.getStyle():e.apply(t.image_,arguments)}}),o=O(this.image_,"setAttribute",{value:function(e,n){"src"===e?p(t.image_,"cfsrc",n):"style"===e?p(t.image_,"cfstyle",n):r.apply(t.image_,arguments)}});this.wrappedPropertyCache_.push(n,i,o)}catch(t){this.proxy_||(this.proxy_=this.makeProxy()),this.image_=this.proxy_}},j.prototype.makeProxy=function(){var t={};t.origImage_=this.image_;var e=this;return y(this.image_,function(r,n){"function"==typeof r?t[n]=function(){return this.origImage_[n].apply(this.origImage_,arguments)}:"SRC"===n.toUpperCase()?Object.defineProperty(t,n,{get:function(){return e.getSrc()},set:function(t){p(this.origImage_,"cfsrc",t)}}):Object.defineProperty(t,n,{get:function(){return this.origImage_[n]},set:function(t){this.origImage_[n]=t}})},null),O(t,"getAttribute",{value:function(t){return"SRC"===t.toUpperCase()?e.getSrc():"STYLE"===t.toUpperCase()?e.getStyle():this.origImage_.getAttribute(t)}}),O(t,"setAttribute",{value:function(t,e){"src"===t?p(this.origImage_,"cfsrc",e):"style"===t?p(this.origImage_,"cfstyle",e):setAttribute.apply(this.origImage_,arguments)}}),t},j.prototype.unwrap_=function(){this.wrappedPropertyCache_.length?y(this.wrappedPropertyCache_,function(t){t()}):this.image_=this.proxy_.origImage_},B.LOAD_TICK_INTERVAL=200,B.BINARY_LOCATION_FRAGMENT="/cdn-cgi/pe/mirage_bag?format=binary",B.DATAURL_LOCATION_FRAGMENT="/cdn-cgi/pe/mirage_bag?format=base64",B.prototype.load=function(t){var e=this.map_[t]=this.map_[t]||a();return null===this.timer_&&(this.timer_=setTimeout(I(function(){var t=this.map_,e=Object.keys(t);this.map_={},this.timer_=null,this.loadStrategy_(e,I(function(e,r,n,i){t[e].resolve({src:e,width:n,height:i,degradedSrc:r})},this),I(function(e,r){t[e].reject({loadStatus:r,message:e+" was not preloaded"})})).then(function(e){for(var r in t)r in e||t[r].reject(new Error(r+" was not preloaded."))},function(e){for(var r in t)t[r].reject(new Error("Fatal XHR failure."+(e?" "+e.message:"")))})},this),B.LOAD_TICK_INTERVAL)),e.promise},B.prototype.loadDataUrls_=function(t,e,r){var n=new XMLHttpRequest,i=!1,o=dt;o+=t.reduce(function(t,e,r){var n="&r[]="+encodeURIComponent(e);return void 0!==J&&K<=8&&(i=t.length+n.length>2032),t+(r<ft.maxdegradedimages&&!i?n:"")},B.DATAURL_LOCATION_FRAGMENT);var s={},u=a(),c=0;return n.open("get",o),ft.petoken&&n.setRequestHeader("PE-Token",ft.petoken),n.onreadystatechange=function(){try{if(n.status>299)return u.reject()}catch(t){}if(n.readyState>2&&void 0!==n.responseText){for(var t=n.responseText;t&&c<t.length;)try{!function(){var n=new M(t,c);c+=n.stringLength,s[n.src]=n,n.isValid()?n.resolveSrc().then(function(t){e(n.src,t,n.width,n.height)}):r(n.src,n.json.loadStatus)}()}catch(t){break}4===n.readyState&&u.resolve(s)}},n.send(),u.promise},B.prototype.loadArrayBuffer_=function(t,e,r){var n=new XMLHttpRequest,i=dt+t.reduce(function(t,e,r){return t+(r<ft.maxdegradedimages?"&r[]="+encodeURIComponent(e):"")},B.BINARY_LOCATION_FRAGMENT),o={},s=a(),u=0;return n.open("get",i,!0),ft.petoken&&n.setRequestHeader("PE-Token",ft.petoken),n.responseType="arraybuffer",n.onreadystatechange=function(){try{if(n.status>299)return s.reject()}catch(t){}if(n.readyState>2){for(var t=n.response;t&&u<t.byteLength;)try{!function(){var n=new P(t,u);u+=n.byteLength,o[n.src]=n,n.isValid()?n.resolveSrc().then(function(t){e(n.src,t,n.width,n.height)}):r(n.src,n.json.loadStatus)}()}catch(t){break}4===n.readyState&&s.resolve(o)}},n.send(),s.promise},U.OPTIMIZATION_TIMEOUT=3e4,U.DISTANCE_FROM_VIEWPORT=100,U.RESTORE_NON_DEGRADED_IMAGE_TIMEOUT=50,U.prototype.sanitiseDOM=function(){return m(n(document.getElementsByTagName("img")),function(t){f(t,"cfsrc")&&t.nextSibling&&"NOSCRIPT"==t.nextSibling.tagName&&t.parentElement.removeChild(t.nextSibling)})},U.prototype.releaseNativeMethods=function(){y(this.nativeMethods,function(t,e){document[e]=t})},U.prototype.proxyElementList=function(t){var e=this.nativeMethods[t];return I(function(t){return m(e.call(document,t),function(t){return this.proxyMirageImage(t)},this)},this)},U.prototype.proxyElement=function(t){var e=this.nativeMethods[t];return I(function(t){return this.proxyMirageImage(e.call(document,t))},this)},U.prototype.proxyMirageImage=function(t){if(t&&t.nodeName&&"IMG"===t.nodeName.toUpperCase()){var e=v(this.imageCache_,function(e){return e.image_.origImage_===t});return e?e.image_:t}return t},U.prototype.captureNativeMethods=function(){y(["getElementsByTagName","getElementById","getElementsByClassName","querySelectorAll","querySelector"],function(t){this.nativeMethods[t]=document[t]},this),document.getElementsByClassName=this.proxyElementList("getElementsByClassName"),document.querySelectorAll=this.proxyElementList("querySelectorAll"),document.getElementById=this.proxyElement("getElementById"),document.querySelector=this.proxyElement("querySelector"),document.getElementsByTagName=I(function(t){var e=this.nativeMethods.getElementsByTagName;return"IMG"===t.toUpperCase()?m(e.call(document,"img"),function(t){return this.proxyMirageImage(t)},this):e.apply(document,arguments)},this)},U.prototype.capture=function(){return m(n(document.getElementsByTagName("img")),function(t){var e;return j.isValidCandidate(t)&&((e=new j(t,{forcePreloadOnly_:this.forcePreloadOnly_,proxy_:this.requireProxy_})).whenRestored(I(function(){this.manifest_.record(e.getSrc())},this)),this.imageCache_.push(e)),e},this)},U.prototype.logPreload=function(t){t in this.loadStatistics?this.loadStatistics[t]++:this.loadStatistics[t]=1},U.prototype.preload=function(){return this.reducePreloadableImages_().then(I(function(t){if(t.length){var e=m(t,function(t){var e=this.loader_.load(t.getSrc()).then(I(function(e){return this.logPreload(D.state.LOAD_OK),(this.supportsBinaryData_?this.postProcess_(e.degradedSrc,e.width,e.height):z.resolve(e.degradedSrc)).then(function(e){return t.setDegradedSrc(e).then(function(){return X.then(function(){return t.restoreWithinViewport()})})})},this),I(function(e){return lt("Attempt to preload image failed.",e.message),this.logPreload(e.loadStatus),X.then(function(){return t.restore()})},this));return t.isWithinViewport()?e:z.resolve()},this);return this.optimizationTimeout_=window.setTimeout(function(){y(t,function(t){t.restore()})},U.OPTIMIZATION_TIMEOUT),z.all(e).then(I(function(){this.optimizationTimeout_&&window.clearTimeout(this.optimizationTimeout_)},this))}},this))},U.prototype.backfill=function(){var t=[];return y(this.imageCache_,function(e){var r=e.restore();e.isWithinViewport()&&t.push(r)},this),z.all(t)},U.prototype.reset=function(){this.imageCache_=[],this.manifest_.clear()},U.prototype.setConfig=function(t){ft.maxjsonsize=t.maxjsonsize||1e5,ft.maxdegradedimages=t.maxdegradedimages||50,ft.maxexternalimages=t.maxexternalimages||50,ft.eagerLoad=ft.eagerLoad||!1,ft.petoken=t.petok},U.prototype.accessorTest=function(t){var e=t.src,r=Object.getOwnPropertyDescriptor(t,"src")||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"src")||{value:e,writable:!0,configurable:!0,enumerable:!0};return!(!r||r.configurable)},U.prototype.activate=function(){return Q.then(I(function(){this.sanitiseDOM(),this.requireProxy_=!1;var t=n(document.getElementsByTagName("img"));return t.length&&t.length>=1&&(this.requireProxy_=this.accessorTest(t[0])),this.capture(),this.requireProxy_&&this.captureNativeMethods(),this.connection_.assessLatency().then(I(function(t){return t||this.forcePreload_?this.preload():this.backfill()},this))},this))},U.prototype.postProcess_=function(t,e,r){return new z(function(n){var i=document.createElement("canvas"),o=document.createElement("img"),s=i.getContext("2d");i.width=e,i.height=r,o.addEventListener("load",I(function(){s.drawImage(o,0,0,e,r),n(i.toDataURL())},this)),o.addEventListener("error",I(function(t){lt("Error loading image."),n("")},this)),o.src=t})},U.prototype.limitPreloadableImages_=function(t){var e=[],r=[];return y(w(t,function(t){return!!t}),function(t,n){var i=it(t);n<ft.maxdegradedimages?(i||e.push(n),r.push(t)):i&&e.length>ft.maxexternalimages&&(r.splice(e.pop(),1),r.push(t))}),z.resolve(r)},U.prototype.reducePreloadableImages_=function(){var t=[];return y(this.getUniqueSrcs_(),function(e,r){t.push(z.resolve().then(I(function(){return this.manifest_.has(e).then(function(t){if(!t)return e})},this),function(){}))},this),z.all(t).then(I(function(t){return this.limitPreloadableImages_(t).then(I(function(t){var e,r={};y(t,function(t){r[t]=!0},{});var n=[];return e=w(this.imageCache_,function(t){var e=r[t.getSrc()];return e||this.push(t),e},n),n.length>0&&window.setTimeout(function(){y(n,function(t){t.restore()})},U.RESTORE_NON_DEGRADED_IMAGE_TIMEOUT),e},this))},this))},U.prototype.getUniqueSrcs_=function(){var t={},e=[],r=[],n=window.innerWidth,i=window.innerHeight;return y(this.imageCache_,function(o){var s=o.getTop(),a=o.getLeft(),u=o.getSrc();s<i&&a<n&&!t[u]?e.push(u):r.push(u),t[o.getSrc()]=!0}),e.concat(r)},"undefined"==typeof __DEV__&&z.resolve().then(function(){var t=new U;t.activate().then(function(){t.requireProxy_&&t.releaseNativeMethods()})}),t.MirageLoader=B,t.MirageManager=U,t.PNGChunk=N,t.PNGImage=x,t.MirageDegradedImage=P,t.MirageDegradedImageFallback=M,t.MirageImage=j,t.MirageImageJSON=D,t.CacheManifest=C,t.NetworkConnection=R,t.arrayBufferSlice=T,t.dom=J,t.classes=ut,t.iterators=et,t.path=st,t.utility=H,t}({});
