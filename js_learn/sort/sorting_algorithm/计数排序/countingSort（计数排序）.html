<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>countingSort（计数排序）</title>
</head>

<body>

<!--计数排序(Counting sort)是一种稳定的排序算法。计数排序使用一个额外的数组C，其中第i个元素是待排序数组A中值等于i的元素的个数。然后根据数组C来将A中的元素排到正确的位置。它只能对整数进行排序。-->

<!--
- 找出待排序的数组中最大和最小的元素；

- 统计数组中每个值为i的元素出现的次数，存入数组C的第i项；

- 对所有的计数累加（从C中的第一个元素开始，每一项和前一项相加）；

- 反向填充目标数组：将每个元素i放在新数组的第C(i)项，每放一个元素就将C(i)减去1。
-->

<script>
    function countingSort(array) {
        var len = array.length,
                B = [],
                C = [],
                min = max = array[0];


        for (var i = 0; i < len; i++) {
            min = min <= array[i] ? min : array[i];
            max = max >= array[i] ? max : array[i];
            C[array[i]] = C[array[i]] ? C[array[i]] + 1 : 1;  //循环C数组得出  [3: 1, 7: 1, 11: 1, 12: 1, 43: 1, 56: 1, 66: 1, 82: 1, 90: 1]
        }

        for (var j = min; j < max; j++) {
            C[j + 1] = (C[j + 1] || 0) + (C[j] || 0);

        }
        console.log(C);
        //第二次循环 C数组 输出
        // [3: 1, 4: 1, 5: 1, 6: 1, 7: 2, 8: 2, 9: 2, 10: 2, 11: 3, 12: 4, 13: 4, 14: 4, 15: 4, 16: 4, 17: 4, 18: 4, 19: 4, 20: 4, 21: 4, 22: 4, 23: 4, 24: 4, 25: 4, 26: 4, 27: 4, 28: 4, 29: 4, 30: 4, 31: 4, 32: 4, 33: 4, 34: 4, 35: 4, 36: 4, 37: 4, 38: 4, 39: 4, 40: 4, 41: 4, 42: 4, 43: 5, 44: 5, 45: 5, 46: 5, 47: 5, 48: 5, 49: 5, 50: 5, 51: 5, 52: 5, 53: 5, 54: 5, 55: 5, 56: 6, 57: 6, 58: 6, 59: 6, 60: 6, 61: 6, 62: 6, 63: 6, 64: 6, 65: 6, 66: 7, 67: 7, 68: 7, 69: 7, 70: 7, 71: 7, 72: 7, 73: 7, 74: 7, 75: 7, 76: 7, 77: 7, 78: 7, 79: 7, 80: 7, 81: 7, 82: 8, 83: 8, 84: 8, 85: 8, 86: 8, 87: 8, 88: 8, 89: 8, 90: 9]

        for (var k = len - 1; k >= 0; k--) {
            B[C[array[k]] - 1] = array[k];
            C[array[k]]--;
        }
        return B;
    }

    var a = [12, 3, 43, 11, 56, 90, 7, 66, 82];
    console.log(countingSort(a));
    //[3, 7, 11, 12, 43, 56, 66, 82, 90]
</script>
</body>
</html>