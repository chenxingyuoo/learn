<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>

<script>
    //首先，我们要厘清纯函数的概念。

    //纯函数是这样一种函数，即相同的输入，永远会得到相同的输出，而且没有任何可观察的副作用。

    //比如 slice 和 splice，这两个函数的作用并无二致——但是注意，它们各自的方式却大不同，但不管怎么说作用还是一样的。
    // 我们说 slice 符合纯函数的定义是因为对相同的输入它保证能返回相同的输出。
    // 而 splice 却会嚼烂调用它的那个数组，然后再吐出来；这就会产生可观察到的副作用，即这个数组永久地改变了。

    var xs = [1,2,3,4,5];

    // 纯的
    xs.slice(0,3);
    //=> [1,2,3]

    xs.slice(0,3);
    //=> [1,2,3]

    xs.slice(0,3);
    //=> [1,2,3]


    // 不纯的
    xs.splice(0,3);
    //=> [1,2,3]

    xs.splice(0,3);
    //=> [4,5]

    xs.splice(0,3);
    //=> []


    // 不纯的
    var minimum = 21;

    var checkAge = function(age) {
        return age >= minimum;
    };


    // 纯的
    var checkAge = function(age) {
        var minimum = 21;
        return age >= minimum;
    };

    //在不纯的版本中，checkAge 的结果将取决于 minimum 这个可变变量的值。
    // 换句话说，它取决于系统状态（system state）；
    // 这一点令人沮丧，因为它引入了外部的环境，从而增加了认知负荷（cognitive load）。

    //另一方面，使用纯函数的形式，函数就能做到自给自足。
    // 我们也可以让 minimum 成为一个不可变（immutable）对象，这样就能保留纯粹性，因为状态不会有变化。
    // 要实现这个效果，必须得创建一个对象，然后调用 Object.freeze 方法：

    //Object.freeze 冻结对象 , 防止被添加到它的新特性;
    // 防止被删除现有的性能; 并防止现有的属性，或者他们的enumerability，可配置性，可写或从被改变。
    // 从本质上说对象是由有效一成不变的。该方法返回被冻结的对象。




</script>

</body>
</html>