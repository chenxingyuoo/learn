<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- 优先使用 IE 最新版本和 Chrome -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <!-- 网页作者 -->
    <meta name="author" content="chenxingyu, 2731173104@qq.com"/>
    <!-- 搜索引擎抓取 -->
    <meta name="robots" content="index,follow"/>
    <!-- 为移动设备添加 viewport -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=3, minimum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <!-- 是否启用 WebApp 全屏模式，删除苹果默认的工具栏和菜单栏 -->
    <meta name="apple-itunes-app" content="app-id=myAppStoreID, affiliate-data=myAffiliateData, app-argument=myURL">
    <!-- 添加智能 App 广告条 Smart App Banner（iOS 6+ Safari） -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <!-- 设置苹果工具栏颜色 -->
    <!-- 避免IE使用兼容模式 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="css/style.css">
    <title>one</title>

</head>

<body>


<div id="bag" class="hidden">
    Bag — <span id="bag-quantity">0</span>
</div>

<nav id="menu" class="hidden">
    <ul>
        <li class="go-home active">
            <a href="/">Home</a>
        </li>
        <li>
            <a href="/pem/">Follow</a>

            <ul>
                <li class="active">
                    <a class="goto" href="#videos">Community</a>
                </li>
                <li class="active">
                    <a class="goto" href="#set">PEM</a>
                </li>
                <li class="active">
                    <a class="goto" href="#apps">Apps</a>
                </li>
                <li class="active">
                    <a class="goto" href="#map">Map</a>
                </li>
                <li class="active">
                    <a class="goto" href="#radiation">Radiation</a>
                </li>
                <li class="active">
                    <a class="goto" href="#organic">Organic</a>
                </li>
                <li class="active">
                    <a class="goto" href="#humidity">Humidity</a>
                </li>
                <li class="active">
                    <a class="goto" href="#emf">EMF</a>
                </li>
                <li class="active">
                    <a class="goto" href="#about">About</a>
                </li>
            </ul>
        </li>
        <li>
            <a href="/bam/">Body</a>

            <ul>
                <li class="active">
                    <a class="goto" href="#transparent">Transparent</a>
                </li>
                <li class="active">
                    <a class="goto" href="#red">Red Splatter</a>
                </li>
                <li class="active">
                    <a class="goto" href="#white">White</a>
                </li>
                <li class="active">
                    <a class="goto" href="#black">Black</a>
                </li>
                <li class="active">
                    <a class="goto" href="#ceramic">Ceramic</a>
                </li>
                <li class="active">
                    <a class="goto" href="#apps">Apps</a>
                </li>
                <li class="active">
                    <a class="goto" href="#about">About</a>
                </li>
            </ul>

        </li>
    </ul>
</nav>



<main>

    <!--<div id="aboutSectionScroller" style="display: block;">
        <div id="aboutSectionScrollerContent"></div>
    </div>-->

    <section class="section">
        <img class="item-bg" src="img/A.jpg" alt="">

        <div class="info">
            <div class="info-content">
                <p><span>Art + Design:</span>  Rodrigo Corral and June Park
                </p><p><span>Art Direction:</span>  Chris Mueller
            </p><p><span>Publication Date:</span>  February 2015</p>
            </div>
        </div>
    </section>

    <section class="section">
        <img class="item-bg" src="img/B.jpg" alt="">

        <div class="info">
            <div class="info-content">
                <p><span>Art + Design:</span>  Rodrigo Corral and June Park
                </p><p><span>Art Direction:</span>  Chris Mueller
            </p><p><span>Publication Date:</span>  February 2015</p>
            </div>
        </div>
    </section>

    <section class="section">
        <img class="item-bg" src="img/C.jpg" alt="">

        <div class="info">
            <div class="info-content">
                <p><span>Art + Design:</span>  Rodrigo Corral and June Park
                </p><p><span>Art Direction:</span>  Chris Mueller
            </p><p><span>Publication Date:</span>  February 2015</p>
            </div>
        </div>
    </section>

    <section class="section">
        <img class="item-bg" src="img/D.jpg" alt="">

        <div class="info">
            <div class="info-content">
                <p><span>Art + Design:</span>  Rodrigo Corral and June Park
                </p><p><span>Art Direction:</span>  Chris Mueller
            </p><p><span>Publication Date:</span>  February 2015</p>
            </div>
        </div>
    </section>

    <section class="section">
        <img class="item-bg" src="img/E.jpg" alt="">

        <div class="info">
            <div class="info-content">
                <p><span>Art + Design:</span>  Rodrigo Corral and June Park
                </p><p><span>Art Direction:</span>  Chris Mueller
            </p><p><span>Publication Date:</span>  February 2015</p>
            </div>
        </div>
    </section>

    <section class="section">
        <img class="item-bg" src="img/F.jpg" alt="">

        <div class="info">
            <div class="info-content">
                <p><span>Art + Design:</span>  Rodrigo Corral and June Park
                </p><p><span>Art Direction:</span>  Chris Mueller
            </p><p><span>Publication Date:</span>  February 2015</p>
            </div>
        </div>
    </section>

    <section class="section">
        <img class="item-bg" src="img/G.jpg" alt="">

        <div class="info">
            <div class="info-content">
                <p><span>Art + Design:</span>  Rodrigo Corral and June Park
                </p><p><span>Art Direction:</span>  Chris Mueller
            </p><p><span>Publication Date:</span>  February 2015</p>
            </div>
        </div>
    </section>

</main>

script
<script src="js/main.js"></script>
<script>


    function $(id) {
        return document.getElementById(id);
    }

    //清除样式
    setTimeout(function () {
        $('menu').className = '';
    },200);

    //清除样式
    setTimeout(function () {
        $('bag').className = '';
    },500);


    //属性
    var property = function (key) {
        return function (obj) {
            return obj == null ? void 0 : obj[key];
        };
    };

    var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;
    var getLength = property('length');
    //判断一个对象是否是数组 ， 类数组
    var isArrayLike = function (collection) {
        var length = getLength(collection); // 上面property 传的参数是 length ， 执行 property 返回的闭包 。传一个数组 ， 就返回一个length值
        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;
    };

    //一个'each`实现，又名`forEach`。遍历一个队列 ， 执行方法 ， 传对应的 key ， value值
    var foreach = function (obj, iteratee, context) {
        //包装回调函数
        var i, length;
        if (isArrayLike(obj)) {
            for (i = 0, length = obj.length; i < length; i++) {
                iteratee(obj[i], i, obj);
            }
        } else {
            //_.keys 调用了 Object.keys 。方法 ，读取自身的属性名 ， 返回自身的属性名数组 。 ECMAScript5的东西
            var keys = Object.keys(obj);
            for (i = 0, length = keys.length; i < length; i++) {
                // obj[keys[i]] 得知自身属性名就可以从传进来的对象上获取对应的值
                iteratee(obj[keys[i]], keys[i], obj);
            }
        }
        return obj;
    };

    var section = document.querySelectorAll('.section');

    foreach(section, function (section) {
        // 难度3 * 3
        section.addEventListener('click', setClas, false);
    });

    function setClas() {
        console.log(this)
        var info = this.querySelector('.info');
        if(!this._show){
            info.style['display'] = 'block';
            this._show = true;
        }else{
            info.style['display'] = 'none';
            this._show = false;
        }
    }


    var ticking = false; // rAF 触发锁
    function onScroll(e){
        if(!ticking) {
            requestAnimFrame(realFunc);
            ticking = true;
        }
    }

    function realFunc(){
        // do something...
        ticking = false;
    }
    // 滚动事件监听
    window.addEventListener('scroll', onScroll, false);
</script>
</body>
</html>