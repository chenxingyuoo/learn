<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>


<script>

    //isExtensible方法拦截Object.isExtensible操作。

    var p = new Proxy({}, {
        isExtensible: function(target) {
            console.log("called");
            return true;
        }
    });


    //Object.isExtensible() 方法判断一个对象是否是可扩展的（是否可以在它上面添加新的属性）。

    Object.isExtensible(p)
    // "called"
    // true


    //上面代码设置了isExtensible方法，在调用Object.isExtensible时会输出called。

    //注意，该方法只能返回布尔值，否则返回值会被自动转为布尔值。

    //这个方法有一个强限制，它的返回值必须与目标对象的isExtensible属性保持一致，否则就会抛出错误。


    var p = new Proxy({}, {
        isExtensible: function(target) {
            debugger;
            return false;
        }
    });

    Object.isExtensible(p) // 报错


</script>

</body>
</html>